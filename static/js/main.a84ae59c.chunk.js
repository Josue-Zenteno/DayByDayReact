(this["webpackJsonpdaybyday-react"]=this["webpackJsonpdaybyday-react"]||[]).push([[0],{21:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(19),j=c.n(s),r=c(43),a=c(10),i=(c(49),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,j=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),j(e),r(e)}))}),l=c(11),o=c(83),b=c(91),d=c(85),h=c(86),O=c(92),x=c(93),u=c(94),g=c(95),f=c(96),m=c(22),y={baseURL_API:"https://spicy-daybyday.herokuapp.com/",clientID:"125049332289-q7ghmkqlga5e7hpuvolrgfkcvjv95d9p.apps.googleusercontent.com"},p=c.p+"static/media/spicy_logo_blanco.36a11ad0.png",v=c(82),k=c(84),S=c(87),I=c(88),w=c(89),C=(c(21),c(42)),N=c.n(C).a.create({baseURL:y.baseURL_API});function B(e,t){return N.put("/notes/"+e,{votes:t}).then((function(e){return e.data}))}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function M(e){return E[e.getDay()]+", "+e.getDate()+" "+D[e.getMonth()]+" "+e.getFullYear()+", "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}var F=c(2);function L(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],j=function(){N.get("/notes").then((function(e){return e.data})).then((function(e){s(e)}))};return Object(n.useEffect)((function(){j()}),[]),Object(F.jsxs)("div",{children:[Object(F.jsx)(v.a,{tag:"center",children:Object(F.jsx)(o.a,{style:{background:"#592151",color:"white",border:"#592151"},children:Object(F.jsx)("strong",{children:"New Notes  "})})}),Object(F.jsx)(k.a,{children:Object(F.jsx)("tbody",{children:c.map((function(e,t){return Object(F.jsxs)("div",{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(S.a,{style:{background:"#353044",color:"white"},children:Object(F.jsxs)(I.a,{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsxs)("strong",{children:[Object(F.jsx)("img",{src:e.image,alt:"Img"})," ",e.user]})})}),Object(F.jsx)("br",{}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:e.message})}),Object(F.jsx)("br",{}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{align:"left",children:Object(F.jsx)("small",{children:M(new Date(e.publicationdate))})}),Object(F.jsx)(h.a,{align:"right",children:Object(F.jsxs)(w.a,{color:"info",pill:!0,children:["Votes: ",e.votes]})})]})]})})})}),Object(F.jsx)("br",{})]})}))})})]})}var A=c(90),T=c(26),_=c(20);function P(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],j=function(){N.get("/notes/votes/").then((function(e){return e.data})).then((function(e){s(e)}))},r=function(e){!function(e){B(e._id,e.votes+1)}(e)},a=function(e){!function(e){B(e._id,e.votes-1)}(e)};return Object(n.useEffect)((function(){j()}),[c]),Object(n.useEffect)((function(){j()}),[]),Object(F.jsxs)("div",{children:[Object(F.jsx)(v.a,{tag:"center",children:Object(F.jsxs)(o.a,{style:{background:"#592151",color:"white",border:"#592151"},children:[Object(F.jsx)("strong",{children:"Trending Notes  "}),Object(F.jsx)(_.a,{})]})}),Object(F.jsx)(k.a,{children:Object(F.jsx)("tbody",{children:c.map((function(e,t){return Object(F.jsxs)("div",{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(S.a,{style:{background:"#353044",color:"white"},children:Object(F.jsxs)(I.a,{children:[Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{children:Object(F.jsxs)("strong",{children:[Object(F.jsx)("img",{src:e.image,alt:"Img"})," ",e.user]})}),Object(F.jsxs)(h.a,{align:"right",children:[Object(F.jsx)(A.a,{color:"secondary",onClick:function(){return a(e)},children:Object(F.jsx)(T.b,{})})," ",Object(F.jsx)(A.a,{color:"info",onClick:function(){return r(e)},children:Object(F.jsx)(T.a,{})})]})]}),Object(F.jsx)("br",{}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:e.message})}),Object(F.jsx)("br",{}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{align:"left",children:Object(F.jsx)("small",{children:M(new Date(e.publicationdate))})}),Object(F.jsx)(h.a,{align:"right",children:Object(F.jsxs)(w.a,{color:"info",pill:!0,children:["Votes: ",e.votes]})})]})]})})})}),Object(F.jsx)("br",{})]})}))})})]})}var J={maxWidth:"85px"};var U=c(97),G=c(98);function K(e){return Object(F.jsxs)(O.a,{style:{background:"#762C6B"},light:!0,expand:"md",children:[Object(F.jsx)(u.a,{children:Object(F.jsxs)("span",{className:"text-white",children:[Object(F.jsx)("strong",{children:"Day By Day:    "})," ",sessionStorage.getItem("name")]})}),Object(F.jsx)(U.a,{navbar:!0,children:Object(F.jsxs)(g.a,{className:"ml-auto",navbar:!0,children:[Object(F.jsx)(f.a,{style:{background:"#762C6B"},children:Object(F.jsx)(G.a,{href:"#",onClick:function(){return e.onShow(1)},children:Object(F.jsx)("h3",{children:Object(F.jsx)(w.a,{style:{background:"#F69C38"},className:"text-white",pill:!0,children:"Dashboard"})})})}),Object(F.jsx)(f.a,{style:{background:"#762C6B"},children:Object(F.jsx)(G.a,{href:"#",onClick:function(){return e.onShow(2)},children:Object(F.jsx)("h3",{children:Object(F.jsx)(w.a,{style:{background:"#935BF7"},className:"text-white",pill:!0,children:"My Notes"})})})}),Object(F.jsx)(f.a,{style:{background:"#762C6B"},children:Object(F.jsx)(m.GoogleLogout,{clientId:y.clientID,buttonText:"Sign Out",theme:"light",onLogoutSuccess:e.onLogout})})]})})]})}var R=c(6),V=c.n(R),q=c(108),W=c(103),H=c(104),Y=c(105),z=c(106),Q=c(107),X=c(99),Z=c(100),$=c(101),ee=c(102);function te(e){var t=Object(n.useState)(""),c=Object(l.a)(t,2),s=c[0],j=c[1],r=function(t){"OK"===t&&e.updateMyNotes()};return Object(F.jsx)("div",{children:Object(F.jsxs)(S.a,{body:!0,style:{background:"#211E2B",color:"white",border:"#505B7E"},children:[Object(F.jsx)(v.a,{tag:"h5",children:"Add a new Note"}),Object(F.jsxs)(X.a,{children:[Object(F.jsxs)(Z.a,{children:[Object(F.jsx)($.a,{for:"aMensaje",children:"Message"}),Object(F.jsx)(ee.a,{style:{height:"200px"},type:"textarea",name:"message",value:s,id:"aMensaje",placeholder:"Introduce a message",onChange:function(e){return j(e.target.value)}})]}),Object(F.jsx)(A.a,{color:"info",onClick:function(e){e.preventDefault(),function(e,t,c,n){return N.post("/notes",{email:e,user:t,image:c,message:n}).then((function(e){return e.data}))}(sessionStorage.getItem("email"),sessionStorage.getItem("name"),sessionStorage.getItem("image"),s).then((function(e){return r(e)}))},children:"Add"})]})]})})}function ce(e){var t=Object(n.useState)(e.note.message),c=Object(l.a)(t,2),s=c[0],j=c[1],r=function(t){"OK"===t&&e.updateMyNotes()};return Object(n.useEffect)((function(){j(e.note.message)}),[e.note]),Object(F.jsx)("div",{children:Object(F.jsxs)(S.a,{body:!0,style:{background:"#211E2B",color:"white",border:"#505B7E"},children:[Object(F.jsx)(v.a,{tag:"h5",children:"Edit Note"}),Object(F.jsxs)(X.a,{children:[Object(F.jsxs)(Z.a,{children:[Object(F.jsx)($.a,{for:"aDescripcion",children:"Message"}),Object(F.jsx)(ee.a,{style:{height:"200px"},type:"textarea",name:"message",id:"aDescripcion",placeholder:"Introduce a message",value:s,onChange:function(e){return j(e.target.value)}})]}),Object(F.jsx)(A.a,{color:"info",onClick:function(t){t.preventDefault(),function(e,t){return N.put("/notes/"+e,{message:t}).then((function(e){return e.data}))}(e.note._id,s).then((function(e){return r(e)}))},children:"Update"})]})]})})}function ne(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],j=c[1],r=Object(n.useState)(Object(F.jsx)(o.a,{color:"danger",children:"Choose a Note from the list"})),a=Object(l.a)(r,2),i=a[0],b=a[1],O=Object(n.useState)("1"),x=Object(l.a)(O,2),u=x[0],m=x[1],y=Object(n.useState)(null),p=Object(l.a)(y,2),C=p[0],B=p[1],D=function(){var e;(e=sessionStorage.getItem("email"),N.get("/notes/all/"+e).then((function(e){return e.data}))).then((function(e){j(e)}))},E=function(e){u!==e&&m(e)},L=function(){D()},T=function(e){var t;(t=e._id,N.delete("/notes/"+t).then((function(e){return e.data}))).then((function(e){return P(e)}))},P=function(e){"OK"===e&&(B(null),b(Object(F.jsx)(o.a,{children:"Choose a Note from the list"})),L())};return Object(n.useEffect)((function(){D()}),[]),Object(F.jsxs)("div",{children:[C,Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(v.a,{tag:"center",children:Object(F.jsxs)(o.a,{style:{background:"#592151",color:"white",border:"#592151"},children:[Object(F.jsx)("strong",{children:"Profile   "}),Object(F.jsx)(_.d,{})]})})})}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(S.a,{style:{background:"#2A478B",color:"white"},children:Object(F.jsx)(I.a,{children:Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsxs)("strong",{children:[Object(F.jsx)("img",{src:sessionStorage.getItem("image"),alt:"Img"})," ",sessionStorage.getItem("name")]})})})})})})}),Object(F.jsx)("br",{}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(v.a,{tag:"center",children:Object(F.jsxs)(o.a,{style:{background:"#592151",color:"white",border:"#592151"},children:[Object(F.jsx)("strong",{children:"My Notes "}),Object(F.jsx)(w.a,{pill:!0,children:s.length})]})})})}),Object(F.jsx)(d.a,{children:Object(F.jsxs)(h.a,{children:[Object(F.jsxs)(g.a,{tabs:!0,children:[Object(F.jsx)(f.a,{style:{background:"#211E2B",color:"white",border:"#592151"},children:Object(F.jsx)(G.a,{href:"#",className:V()({active:"1"===u}),onClick:function(){return E("1")},children:"Add"})}),Object(F.jsx)(f.a,{style:{background:"#211E2B",color:"white",border:"#592151"},children:Object(F.jsx)(G.a,{href:"#",className:V()({active:"2"===u}),onClick:function(){return E("2")},children:"Edit"})})]}),Object(F.jsxs)(z.a,{activeTab:u,children:[Object(F.jsx)(Q.a,{tabId:"1",children:Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{sm:"12",children:Object(F.jsx)(te,{updateMyNotes:L})})})}),Object(F.jsx)(Q.a,{tabId:"2",children:Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{sm:"12",children:i})})})]})]})}),Object(F.jsx)("br",{}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(k.a,{children:Object(F.jsx)("tbody",{children:s.map((function(t,c){return Object(F.jsx)("div",{children:Object(F.jsxs)("div",{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(S.a,{style:{background:"#353044",color:"white"},children:Object(F.jsxs)(I.a,{children:[Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{children:Object(F.jsxs)("strong",{children:[Object(F.jsx)("img",{src:t.image,alt:"Img"})," ",t.user]})}),Object(F.jsxs)(h.a,{align:"right",children:[Object(F.jsx)(A.a,{style:{background:"#F69C38",color:"white"},outline:!0,onClick:function(){return function(e){b(Object(F.jsx)(ce,{note:e,updateMyNotes:L}))}(t)},children:Object(F.jsx)(_.b,{})})," ",Object(F.jsx)(A.a,{style:{background:"#F45873",color:"white"},outline:!0,onClick:function(){return function(t){B(Object(F.jsxs)(q.a,{isOpen:"true",className:e.className,children:[Object(F.jsx)(W.a,{children:"Eliminar note"}),Object(F.jsxs)(H.a,{children:["Se va a eliminar el note:",Object(F.jsx)("br",{}),Object(F.jsx)("small",{children:Object(F.jsx)("strong",{children:t.message})})]}),Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(A.a,{color:"primary",onClick:function(){return T(t)},children:"Eliminar"})," ",Object(F.jsx)(A.a,{color:"secondary",onClick:function(){return B(null)},children:"Cancelar"})]})]}))}(t)},children:Object(F.jsx)(_.c,{})})]})]}),Object(F.jsx)("br",{}),Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:t.message})}),Object(F.jsx)("br",{}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{align:"left",children:Object(F.jsx)("small",{children:M(new Date(t.publicationdate))})}),Object(F.jsx)(h.a,{align:"right",children:Object(F.jsxs)(w.a,{color:"info",pill:!0,children:["Votes: ",t.votes]})})]})]})})})}),Object(F.jsx)("br",{})]})})}))})})})})]})}j.a.render(Object(F.jsx)(r.a,{children:Object(F.jsxs)("div",{children:[Object(F.jsx)(a.a,{exact:!0,path:"/",component:function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),s=c[0],j=c[1];return Object(F.jsxs)(b.a,{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsxs)(O.a,{style:{background:"#762C6B"},light:!0,expand:"md",children:[Object(F.jsx)(x.a,{style:J,object:!0,src:p,alt:"Bird"}),Object(F.jsx)(u.a,{children:Object(F.jsx)("h1",{className:"text-white",children:"Day By Day"})}),Object(F.jsx)(g.a,{className:"ml-auto",style:{background:"white"},navbar:!0,children:Object(F.jsxs)(f.a,{children:[s,Object(F.jsx)(m.GoogleLogin,{clientId:y.clientID,buttonText:"Sign in with Google",theme:"light",onSuccess:function(t){var c=t.getBasicProfile();sessionStorage.setItem("name",c.getName()),sessionStorage.setItem("email",c.getEmail()),sessionStorage.setItem("image",c.getImageUrl()),e.history.push("/home")},onFailure:function(e){j(Object(F.jsx)(o.a,{color:"danger",children:"Inicio de sesi\xf3n incorrecto. Int\xe9ntelo de nuevo"}))}})]})})]})})}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{children:Object(F.jsx)(P,{})}),Object(F.jsx)(h.a,{children:Object(F.jsx)(L,{})})]})]})}}),Object(F.jsx)(a.a,{path:"/home",component:function(e){var t=Object(n.useState)(Object(F.jsx)(L,{})),c=Object(l.a)(t,2),s=c[0],j=c[1],r=Object(n.useState)(Object(F.jsx)(P,{})),a=Object(l.a)(r,2),i=a[0],o=a[1];if(null!==sessionStorage.getItem("name"))return Object(F.jsxs)(b.a,{children:[Object(F.jsx)(d.a,{children:Object(F.jsx)(h.a,{children:Object(F.jsx)(K,{onLogout:function(){sessionStorage.clear(),e.history.push("/")},onShow:function(e){1===e?(j(Object(F.jsx)(L,{})),o(Object(F.jsx)(P,{}))):2===e&&(j(Object(F.jsx)(ne,{})),o(Object(F.jsx)(P,{})))}})})}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)(h.a,{children:i}),Object(F.jsx)(h.a,{children:s})]})]});e.history.push("/")}})]})}),document.getElementById("root")),i()}},[[81,1,2]]]);
//# sourceMappingURL=main.a84ae59c.chunk.js.map